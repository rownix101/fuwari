---
import WidgetLayout from "./WidgetLayout.astro";
import { Icon } from "astro-icon/components";
import inspirationContent from "@/data/inspiration.txt?raw";

const items = inspirationContent.split('\n').filter(line => line.trim() !== '');

interface Props {
	class?: string;
	style?: string;
}
const className = Astro.props.class;
const style = Astro.props.style;
---

{items.length > 0 && (
    <WidgetLayout name="灵感一刻" id="inspiration-list" class={className} style={style}>
        <div class="flex flex-col gap-2">
            {items.map((item, index) => (
                <div class="flex items-start gap-2 text-sm text-neutral-700 dark:text-neutral-300">
                    <span class="font-bold text-[var(--primary)] flex-shrink-0 select-none w-5 text-right">{index + 1}.</span>
                    <span class="leading-5">{item}</span>
                </div>
            ))}
        </div>
        <div class="mt-4 flex justify-center">
            <a href="https://github.com/afoim/fuwari/blob/main/src/data/inspiration.txt" target="_blank" rel="noopener noreferrer" class="btn-plain rounded-lg h-9 px-4 flex items-center gap-2 text-[var(--primary)] text-sm">
                <Icon name="material-symbols:edit-square-outline" class="text-lg" />
                记录新灵感
            </a>
        </div>
    </WidgetLayout>
)}
